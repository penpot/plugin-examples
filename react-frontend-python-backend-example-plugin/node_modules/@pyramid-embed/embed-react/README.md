# Pyramid Embed React

The wrapper for [@pyramid-embed/embed-js](https://www.npmjs.com/package/@pyramid-embed/embed-js)

## Installation

```bash
yarn add @pyramid-embed/embed-react
```

```bash
npm i @pyramid-embed/embed-react
```

## API documentation

Please check [online help](https://help.pyramidanalytics.com/Content/Root/developer/reference/Extensibility/Embedding/embed%20API/Embed%20API.htm?tocpath=Tech%20Reference%7CExtensibility%7CEmbedding%7CEmbed%20API%7C_____0) for the general documentation.

## Usage

```javascript
import { PyramidEmbedContainer } from '@pyramid-embed/embed-react';
```
```javascript
<PyramidEmbedContainer host="http://pyramid:8181" options={embedOptions} />
```

### Properties

-   `host: string` - URL of the Pyramid instance
-   `options: EmbedOptions` - [embed options](https://help.pyramidanalytics.com/Content/Root/developer/reference/Extensibility/Embedding/embed%20API/EmbedOptions/embedOptions.htm)
-   `loginType?: "none" | "forms" | "windows" | "saml"` - authentication type
-   `userName?: string` - username, used when `loginType="forms"`
-   `password?: string` - password, used when `loginType="forms"`
-   `authToken?: string` - Pyramid authentication token
-   `samlToken?: string` - SAML token
-   `style?: object` - apply styles to the container element
-   `className?: string` - apply a className to the container element
-   `authFailureCallback?: Function` - a function that will be called when the embed token has expired

## Examples

### Basic
##### The code example uses existing embed auth cookie.

```javascript
const embedOptions = {
    contentId: 'f5366b40-fbc7-4773-8180-7759bb0760df'
}

<PyramidEmbedContainer
    host="http://pyramid:8181"
    options={embedOptions}
    style={{width: 1280, height: 720}}
/>
```

### Windows authentication

```javascript
const embedOptions = {
    contentId: 'f5366b40-fbc7-4773-8180-7759bb0760df'
}

<PyramidEmbedContainer
    host="http://pyramid:8181"
    options={embedOptions}
    loginType="windows"
    style={{width: 1280, height: 720}}
/>
```

### Filtering
##### The code example uses existing embed auth cookie.

```javascript
import { PyramidEmbedContainer, Filter } from '@pyramid-embed/embed-react';

const filter = Filter.create().addUniqueName('[customer].[country].[France]');
const embedOptions = {
    contentId: 'f5366b40-fbc7-4773-8180-7759bb0760df',
    filters: filter
}

<PyramidEmbedContainer
    host="http://pyramid:8181"
    options={embedOptions}
    style={{width: 1280, height: 720}}
/>
```

## Further help

For more help on embedding with Pyramid, especially instructions on authentication, scenarios and use of REST APIs together with embedding, please see [online help](https://help.pyramidanalytics.com/Content/Root/developer/reference/Extensibility/Embedding/Embedding.htm?tocpath=Tech%20Reference%7CExtensibility%7CEmbedding%7C_____0).
